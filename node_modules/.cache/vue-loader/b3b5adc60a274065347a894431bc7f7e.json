{"remainingRequest":"/Users/phearunum/Desktop/vue-admin-template-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/phearunum/Desktop/vue-admin-template-master/src/pages/authenticated/calendar/EventCalendar.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/phearunum/Desktop/vue-admin-template-master/src/pages/authenticated/calendar/EventCalendar.vue","mtime":1635310441000},{"path":"/Users/phearunum/Desktop/vue-admin-template-master/node_modules/css-loader/dist/cjs.js","mtime":1665739790201},{"path":"/Users/phearunum/Desktop/vue-admin-template-master/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1665739793265},{"path":"/Users/phearunum/Desktop/vue-admin-template-master/node_modules/postcss-loader/src/index.js","mtime":1665739790297},{"path":"/Users/phearunum/Desktop/vue-admin-template-master/node_modules/cache-loader/dist/cjs.js","mtime":1665739790060},{"path":"/Users/phearunum/Desktop/vue-admin-template-master/node_modules/vue-loader/lib/index.js","mtime":1665739793259}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnYtbWVudV9fY29udGVudHsKICBtYXgtd2lkdGg6IDUwMHB4ICFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["EventCalendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2QA;AACA;AACA","file":"EventCalendar.vue","sourceRoot":"src/pages/authenticated/calendar","sourcesContent":["<template>\n  <v-container>\n    <v-row>\n      <v-col cols=\"12\" md=\"12\" lg=\"12\">\n        <v-sheet height=\"64\">\n          <v-toolbar\n              flat\n          >\n            <v-btn\n                outlined\n                class=\"mr-4\"\n                color=\"grey darken-2\"\n                @click=\"setToday\"\n            >\n              Today\n            </v-btn>\n            <v-btn\n                fab\n                text\n                small\n                color=\"grey darken-2\"\n                @click=\"prev\"\n            >\n              <v-icon small>\n                mdi-chevron-left\n              </v-icon>\n            </v-btn>\n            <v-btn\n                fab\n                text\n                small\n                color=\"grey darken-2\"\n                @click=\"next\"\n            >\n              <v-icon small>\n                mdi-chevron-right\n              </v-icon>\n            </v-btn>\n            <v-toolbar-title v-if=\"$refs.calendar\">\n              {{getCalendarTitle}}\n            </v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-btn-toggle\n                dense\n                :value=\"type\"\n                mandatory\n            >\n              <v-btn value=\"day\" @click=\"type = 'day'\">\n                Day\n              </v-btn>\n              <v-btn value=\"week\"   @click=\"type = 'week'\">\n                Week\n              </v-btn>\n              <v-btn value=\"month\"  @click=\"type = 'month'\">\n                Month\n              </v-btn>\n            </v-btn-toggle>\n          </v-toolbar>\n        </v-sheet>\n        <v-card elevation=\"3\" height=\"600\">\n          <v-calendar\n              @click:day=\"addEvent\"\n              ref=\"calendar\"\n              v-model=\"focus\"\n              color=\"primary\"\n              :events=\"events\"\n              :event-color=\"getEventColor\"\n              :type=\"type\"\n              @click:event=\"showEvent\"\n              @click:more=\"viewDay\"\n              @click:date=\"viewDay\"\n              @change=\"updateRange\"\n          ></v-calendar>\n          <v-menu\n              style=\"max-width: 400px !important;\"\n              v-model=\"selectedOpen\"\n              :close-on-content-click=\"true\"\n              :activator=\"selectedElement\"\n              offset-x\n          >\n            <v-card\n                color=\"grey lighten-4\"\n                min-width=\"350px\"\n                flat\n            >\n              <v-toolbar\n                  :color=\"selectedEvent.color\"\n                  dark\n              >\n                <v-btn icon @click=\"editEvent(selectedEvent)\">\n                  <v-icon>mdi-pencil</v-icon>\n                </v-btn>\n                <v-toolbar-title v-html=\"selectedEvent.name\"></v-toolbar-title>\n                <v-spacer></v-spacer>\n                <v-btn icon @click=\"deleteEvent(selectedEvent)\">\n                  <v-icon>mdi-delete</v-icon>\n                </v-btn>\n              </v-toolbar>\n              <v-card-text>\n                <h4>Time: {{selectedEvent.start|moment(\"dddd, MMMM Do YYYY\")}} - {{selectedEvent.start|moment(\"dddd, MMMM Do YYYY\")}}</h4>\n                <span v-html=\"selectedEvent.details\"></span>\n              </v-card-text>\n              <v-card-actions>\n                <v-btn\n                    text\n                    color=\"secondary\"\n                    @click=\"selectedOpen = false\"\n                >\n                  Cancel\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-menu>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n\n</template>\n<script>\nimport moment from 'moment'\nimport EventForm from \"./components/EventForm\";\n\nexport default {\n  data: () => ({\n    start:null,\n    end:null,\n    focus: '',\n    type: 'month',\n    typeToLabel: {\n      month: 'Month',\n      week: 'Week',\n      day: 'Day',\n    },\n    selectedEvent: {},\n    selectedElement: null,\n    selectedOpen: false,\n    events: [],\n    colors: ['#0024ef', '#1A237E', '#4527A0', '#00838F', '#1B5E20', '#1B5E20', '#1B5E20'],\n    names: ['Meeting', 'Holiday', 'PTO', 'Travel', 'Event', 'Birthday', 'Conference', 'Party'],\n  }),\n  mounted () {\n    this.$refs.calendar.checkChange()\n  },\n  computed:{\n      getCalendarTitle(){\n        if(this.start&&this.end){\n          return moment(this.start.date).format('MMMM Do YYYY')+' - '+moment(this.end.date).format('MMMM Do YYYY');\n        }\n      }\n  },\n  methods: {\n    addEvent(date){\n      const that=this;\n      let event={id:null,name:null,color:'',timed:false,start:new Date(date.date),end:new Date(date.date)}\n      this.$dialog.show(EventForm, {\n        persistent: true,\n        width: '500px',\n        create: true,\n        event: event,\n        callback: (event,create) => {\n            console.log(\"event\",event);\n            console.log(\"create\",create);\n            if(create){\n              event.id=that.events[that.events.length - 1].id;\n              that.events.push(event);\n            }\n        },\n      })\n    },\n    deleteEvent(event){\n      console.log(\"delete event\",event);\n      let index = this.events.map(x => {\n        return x.id;\n      }).indexOf(event.id);\n      this.events.splice(index, 1);\n    },\n    editEvent(event){\n      const that=this;\n      this.$dialog.show(EventForm, {\n        persistent: true,\n        width: '500px',\n        create: false,\n        event: event,\n        callback: (event,create) => {\n          console.log(\"event\",event);\n          console.log(\"create\",create);\n          if(!create){\n            let index = that.events.map(x => {\n              return x.id;\n            }).indexOf(event.id);\n            that.events.splice(index, 1);\n            that.events.push(event);\n          }\n        },\n      })\n    },\n    viewDay ({ date }) {\n      this.focus = date\n      this.type = 'day'\n    },\n    getEventColor (event) {\n      return event.color\n    },\n    setToday () {\n      this.focus = ''\n    },\n    prev () {\n      this.$refs.calendar.prev()\n    },\n    next () {\n      this.$refs.calendar.next()\n    },\n    showEvent ({ nativeEvent, event }) {\n      const open = () => {\n        this.selectedEvent = event\n        this.selectedElement = nativeEvent.target\n        requestAnimationFrame(() => requestAnimationFrame(() => this.selectedOpen = true))\n      }\n\n      if (this.selectedOpen) {\n        this.selectedOpen = false\n        requestAnimationFrame(() => requestAnimationFrame(() => open()))\n      } else {\n        open()\n      }\n      nativeEvent.stopPropagation()\n    },\n\n    updateRange ({ start, end }) {\n      console.log(\"start date\",start);\n      console.log(\"end date\",end);\n      this.start=start;\n      this.end=end;\n      const events = []\n\n      const min = new Date(`${start.date}T00:00:00`)\n      const max = new Date(`${end.date}T23:59:59`)\n      const days = (max.getTime() - min.getTime()) / 86400000\n      const eventCount = this.rnd(days, days + 20)\n\n      for (let i = 0; i < eventCount; i++) {\n        const allDay = this.rnd(0, 3) === 0\n        const firstTimestamp = this.rnd(min.getTime(), max.getTime())\n        const first = new Date(firstTimestamp - (firstTimestamp % 900000))\n        const secondTimestamp = this.rnd(2, allDay ? 288 : 8) * 900000\n        const second = new Date(first.getTime() + secondTimestamp)\n\n        events.push({\n          id:i+1,\n          name: this.names[this.rnd(0, this.names.length - 1)],\n          start: first,\n          end: second,\n          color: this.colors[this.rnd(0, this.colors.length - 1)],\n          timed: !allDay,\n          details:'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries,'\n        })\n      }\n      this.events = events\n    },\n    rnd (a, b) {\n      return Math.floor((b - a + 1) * Math.random()) + a\n    },\n  },\n}\n</script>\n<style>\n.v-menu__content{\n  max-width: 500px !important;\n}\n</style>"]}]}